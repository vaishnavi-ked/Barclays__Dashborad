<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="referrer" content="no-referrer">
    <!--<meta http-equiv="Content-Security-Policy" content="connect-src 'self' workbench ws://localhost:443 wss://localhost:443; default-src 'self' workbench; img-src 'self' workbench data: module:; report-uri /csp-reports; script-src 'self' workbench 'unsafe-inline' 'unsafe-eval'; style-src 'self' workbench 'unsafe-inline';">-->
    <title>Barclays Dashboard</title>
    <link rel="stylesheet" href="public/css/custom-style.css">
    <link href="public/vendor/bootstrap/css/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous">
    <!--<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">-->

    <link rel="stylesheet" href="public/vendor/jquery/css/jquery-ui.min.css">
    <link
      href="public/vendor/fontawesome-free/css/all.min.css"
      rel="stylesheet"
      type="text/css"
    />
    <link href="public/fonts/Poppins/stylesheet.css" rel="stylesheet" />
    <link rel="preconnect" href="https://fonts.gstatic.com" />
    <link
      href="public/fonts/googleapis/googleapis.css"
      rel="stylesheet"
    />

    <!-- Custom styles for this template-->
    <link href="public/css/sb-admin-2.min.css" rel="stylesheet" />
    <link href="public/css/custome-white.css" rel="stylesheet" type="text/css" />
    <link rel="stylesheet" href="public/vendor/chartist/css/chartist.min.css">
</head>
<body id="page-top" class="page-overview sidebar-toggled">
    <div id="wrapper">
        <!-- Sidebar -->
        <!-- End of Sidebar -->
        <!-- Content Wrapper -->

        <div id="content-wrapper" class="d-flex flex-column">
          <!-- Main Content -->
          <div id="content">
            <!-- Topbar -->
            <nav class="navbar navbar-expand navbar-light bg-white topbar mb-4 static-top shadow">
                <a class="navbar-brand" href="#">
                    <img src="public/Img/logo1.png" alt="Logo" class="d-inline-block align-top" style="max-height: 40px;">
                </a>
            </nav>
            <!-- End of Topbar -->
            <!-- Begin Page Content -->
            <div class="container-fluid">
              <!-- <div id="preloader" class="preloader">
                <div class="loader"></div>
            </div> -->
        
              <!-- Modal -->
              <div class="modal fade" id="staticBackdrop" data-bs-backdrop="static" data-bs-keyboard="false" tabindex="-1" aria-labelledby="staticBackdropLabel" aria-hidden="true">
                <div class="modal-dialog">
                  <div class="modal-content">
                    <div class="modal-header" style="border-bottom: none;">
                      <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                    </div>
                    <div class="modal-body text-center popup_box"> <!-- Center the content -->
                      <i class="fas fa-exclamation"></i>
                      <h1 id="modalMessage">Start Date ANd End Date Cant Not Be Same</h1>
                      <div class="mt-1">
                        <p id="modalMessage1">Please select proper dates.</p> <!-- Instruction message -->
                      </div>
                    </div>
                    <div class="modal-footer" style="border-top: none;">
                      <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
                    </div>
                  </div>
                </div>
              </div>

              <!-- <div class="row justify-content-center mb-4">
                <div class="col-4 border text-center">
                  <button class="btn">Daily</button>
                  <button class="btn">Monthly</button>
                  <button class="btn">Yearly</button>
                  <button class="btn">Custom Range</button>
                </div>
            </div> -->
              <!-- Content Row -->
              <div class="row">
                <div class="col-xl-12 col-lg-5 small-boxes">
                  <!-- Earnings (Monthly) Card Example -->
                  <div class="row">
                    <div class="col-xl-3 col-md-4 mb-4">
                      <div class="card-co2 rounded shadow h-100 py-2">
                        <div class="card-body VrtCenter">
                          <div class="row no-gutters align-items-center">
                            <div class="col mr-2">
                              <div
                                class="text-xs font-weight-bold text-kpi  text-uppercase mb-1"
                              >
                                Total Co2 Emission 
                              </div>
                              <div class="h5 mb-0 font-weight-bold text-white">
                                0
                              </div>
                            </div>
                            <div class="col-auto">
                              <i class="fas fa-hand-holding-heart fa-2x text-white"></i>
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>
                    <div class="col-xl-3 col-md-4 mb-4">
                      <div class="card-dom-water rounded shadow h-100 py-2">
                        <div class="card-body VrtCenter">
                          <div class="row no-gutters align-items-center">
                            <div class="col mr-2">
                              <div class="text-xs font-weight-bold text-kpi text-uppercase mb-1">
                                Total Domestic Water Used
                              </div>
                              <div class="h5 mb-0 font-weight-bold text-white">
                                0
                              </div>
                            </div>
                            <div class="col-auto">
                              <i
                                class="fas fa-tint fa-2x text-white" 
                              ></i>
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>
                    <div class="col-xl-3 col-md-4 mb-4">
                      <div class="card-flu-water rounded shadow h-100 py-2">
                        <div class="card-body VrtCenter">
                          <div class="row no-gutters align-items-center">
                            <div class="col mr-2">
                              <div
                                class="text-xs font-weight-bold text-kpi text-uppercase mb-1"
                              >
                                Total Flushing Water Used
                              </div>
                              <div class="h5 mb-0 font-weight-bold text-white">
                                0
                              </div>
                            </div>
                            <div class="col-auto">
                              <i
                                class="fas fa-chart-line fa-2x text-white"
                              ></i>
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>
  
                    <!-- Pending Requests Card Example -->
                    <div class="col-xl-3 col-md-4 mb-4">
                      <div class="card-power rounded shadow h-100 py-2">
                        <div class="card-body VrtCenter">
                          <div class="row no-gutters align-items-center">
                            <div class="col mr-2">
                              <div
                                class="text-xs font-weight-bold text-kpi text-uppercase mb-1"
                              >
                                Total Power Consumption
                              </div>
                              <div class="h5 mb-0 font-weight-bold text-white">
                                0
                              </div>
                            </div>
                            <div class="col-auto">
                              <i
                                class="fas fa-bolt fa-2x text-white"
                              ></i>
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
  
              <div class="row">
                <!-- CO2 Emission Chart -->
                <div class="col-xl-4 col-lg-4">
                  <div class="card shadow mb-4">
                    <div class="card-header py-3 d-flex flex-row align-items-center justify-content-between">
                      <h6 class="m-0 font-weight-bold text-primary">CO2 Emission in Ton / User</h6> 
                      <!-- <div class="dropdown">
                        <button class="btn chart-btn border-0 text-primary" type="button" id="dropdownMenuButton1" data-bs-toggle="dropdown" aria-expanded="false">
                          &#x22EE; 
                        </button>
                        <ul class="dropdown-menu" aria-labelledby="dropdownMenuButton1">
                          <li><button class="dropdown-item" href="#"> Daily</button></li>
                          <li><button class="dropdown-item" href="#">Hourly</button></li>
                        </ul>
                      </div>  -->
                    </div>
                      <div class="card-body">
                        <div class="chart-area">
                          <div id="chartdiv"></div>
                        </div>
                        <div class="mb-3">
                          <div class="d-flex">
                            <div class="form-group mb-2 me-2" style="margin-right: 1rem;">
                              <label for="startDate" class="me-2">Start Date:</label>
                              <input type="date" id="startDate" class="form-control form-control-sm" style="width: 150px;" title="">
                            </div>
                            <div class="form-group mb-2">
                              <label for="endDate" class="me-2">End Date:</label>
                              <input type="date" id="endDate" class="form-control form-control-sm" style="width: 150px;" title="">
                            </div>
                        </div>
                          <div class="d-flex mt-2">
                            <button id="sav_daily_btn" class="chart-button mx-1">Daily</button>
                            <button id="sav_monthly_btn" class="chart-button mx-1">Monthly</button>
                            <button id="sav_yearly_btn" class="chart-button mx-1">Yearly</button>
                          </div>
                        </div>
                    </div>
                  </div>
                </div>

                <!-- Water Consumption Chart -->
                <div class="col-xl-4 col-lg-4">
                  <div class="card shadow mb-4">
                      <div class="card-header py-3 d-flex flex-row align-items-center justify-content-between">
                          <h6 class="m-0 font-weight-bold text-primary">Water Consumption Per User</h6>
                      </div>
                      <div class="card-body">
                          <div class="chart-area">
                              <div id="chartdiv1"></div>
                          </div>
                          <div class="mb-3">
                              <div class="d-flex">
                                  <div class="form-group mb-2 me-2" style="margin-right: 1rem;">
                                      <label for="startDateWater" class="me-2">Start Date:</label>
                                      <input type="date" id="startDateWater" class="form-control form-control-sm" style="width: 150px;">
                                  </div>
                                  <div class="form-group mb-2">
                                      <label for="endDateWater" class="me-2">End Date:</label>
                                      <input type="date" id="endDateWater" class="form-control form-control-sm" style="width: 150px;">
                                  </div>
                              </div>
                              <div class="d-flex mt-2">
                                  <button id="sav_daily_water" class="chart-button mx-1">Daily</button>
                                  <button id="sav_monthly_water" class="chart-button mx-1">Monthly</button>
                                  <button id="sav_yearly_water" class="chart-button mx-1">Yearly</button>
                              </div>
                          </div>
                      </div>
                  </div>
                </div>
                 <!-- <div class="col-xl-4 col-lg-4">
                  <div class="card shadow mb-4">
                      <div class="card-header py-3 d-flex flex-row align-items-center justify-content-between">
                          <h6 class="m-0 font-weight-bold text-primary">Water Consumption Per User</h6>
                      </div>
                      <div class="card-body">
                          <div class="row">
                              <div class="col-4 mb-0 text-center" style="font-size: 1.25rem; font-weight: bold; color: #2A52BE;">
                                  Total Water Used: <span id="totalWaterAmount">0</span> Liters
                              </div>
                              <div class="col-8">
                                  <div class="chart-area">
                                      <div id="chartdiv1" style="height: 300px;"></div>
                                  </div>
                              </div>
                          </div>
                          <div class="mb-3">
                              <div class="d-flex">
                                  <div class="form-group mb-2 me-2" style="margin-right: 1rem;">
                                      <label for="startDateWater" class="me-2">Start Date:</label>
                                      <input type="date" id="startDateWater" class="form-control form-control-sm" style="width: 150px;">
                                  </div>
                                  <div class="form-group mb-2">
                                      <label for="endDateWater" class="me-2">End Date:</label>
                                      <input type="date" id="endDateWater" class="form-control form-control-sm" style="width: 150px;" onchange="lineChart1()">
                                  </div>
                              </div>
                              <div class="d-flex mt-2">
                                  <button id="sav_daily_water" class="xyz chart-button mx-1">Daily</button>
                                  <button id="sav_monthly_water" class="chart-button mx-1">Monthly</button>
                                  <button id="sav_yearly_water" class="xyz chart-button mx-1">Yearly</button>
                              </div>
                          </div>
                      </div>
                  </div>
              </div> -->
              
                <!-- Power Consumption Chart -->
                <div class="col-xl-4 col-lg-4">
                  <div class="card shadow mb-4">
                    <div class="card-header py-3 d-flex flex-row align-items-center justify-content-between">
                      <h6 class="m-0 font-weight-bold text-primary">Power Consumption</h6>
                    </div>
                    <div class="card-body">
                      <div class="chart-area">
                        <div id="chartdiv2" class="d-inline-block ct-perfect-fourth"></div>
                      </div>
                      <div class="mb-3">
                        <div class="d-flex">
                          <div class="form-group mb-2 me-2" style="margin-right: 1rem;">
                            <label for="startDatePower" class="me-2">Start Date:</label>
                            <input type="date" id="startDatePower" class="form-control form-control-sm" style="width: 150px;">
                          </div>
                          <div class="form-group mb-2">
                            <label for="endDatePower" class="me-2">End Date:</label>
                            <input type="date" id="endDatePower" class="form-control form-control-sm" style="width: 150px;">
                          </div>
                        </div>
                        <div class="d-flex mt-2">
                          <button id="sav_daily_power" class=" power chart-button mx-1">Daily</button>
                          <button id="sav_monthly_power" class="chart-button mx-1">Monthly</button>
                          <button id="sav_yearly_power" class="power chart-button mx-1">Yearly</button>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
              
              <div class="row">
                <!-- Occupancy Efficiency Chart -->
                <div class="col-xl-4 col-lg-4">
                  <div class="card shadow mb-4">
                    <div class="card-header py-3 d-flex flex-row align-items-center justify-content-between">
                      <h6 class="m-0 font-weight-bold text-primary">Occupancy Efficiency (%)</h6>
                      <div id="button-sec">
                        <button
                          id="floor_sav_btn"
                          title="Show Floor Wise"
                          class="chart-button"
                        >
                          <i class="fas fa-fw fa-chart-bar"></i>
                        </button>
                        <button
                          id="build_sav_btn"
                          title="Show Current Building"
                          class="chart-button"
                        >
                          <i class="fas fa-fw fa-tachometer-alt"></i>
                        </button>
                      </div>
                    </div>
                    <div class="card-body ">
                      <div class="chart-area sav_g_chart">
                        <div id="chartdiv3"></div>
                      </div>
                      <div class="chart-area sav_b_chart">
                        <div class="occupancyChart" id="chartdiv9"></div>
                      </div>
                      <div class="mb-3 occupacyBtn">
                        <div class="d-flex">
                          <div class="form-group mb-2 me-2" style="margin-right: 1rem;">
                            <label for="startDateOccupancy" class="me-2">Start Date:</label>
                            <input type="date" id="startDateOccupancy" class="form-control form-control-sm" style="width: 150px;">
                          </div>
                          <div class="form-group mb-2">
                            <label for="endDateOccupancy" class="me-2">End Date:</label>
                            <input type="date" id="endDateOccupancy" class="form-control form-control-sm" style="width: 150px;">
                          </div>
                        </div>
                        <div class="d-flex mt-2">
                          <button id="sav_daily_occupancy" class="occupancy chart-button mx-1" >Daily</button>
                          <button id="sav_monthly_occupancy" class="chart-button mx-1" >Monthly</button>
                          <button id="sav_yearly_occupancy" class="occupancy chart-button mx-1">Yearly</button>
                        </div>
                      </div>
                    </div>
                    <!-- <div class="card-body sav_b_chart">
                      <div class="chart-area">
                        <div id="chartdiv9"></div>
                      </div>
                      <div class="mb-3">
                        <div class="d-flex">
                          <div class="form-group mb-2 me-2" style="margin-right: 1rem;">
                            <label for="startDateOccupancy" class="me-2">Start Date:</label>
                            <input type="date" id="startDateOccupancy" class="form-control form-control-sm" style="width: 150px;">
                          </div>
                          <div class="form-group mb-2">
                            <label for="endDateOccupancy" class="me-2">End Date:</label>
                            <input type="date" id="endDateOccupancy" class="form-control form-control-sm" style="width: 150px;">
                          </div>
                        </div>
                        <div class="d-flex mt-2">
                          <button id="" class="occupancy chart-button mx-1" >Daily</button>
                          <button id="" class="chart-button mx-1" >Monthly</button>
                          <button id="" class="occupancy chart-button mx-1">Yearly</button>
                        </div>
                      </div>
                    </div> -->
                  </div>
                </div>
              
                <!-- Indoor Air Quality Chart -->
                <div class="col-xl-4 col-lg-4">
                  <div class="card shadow mb-4">
                      <div class="card-header py-3 d-flex flex-row align-items-center justify-content-between">
                          <h6 class="m-0 font-weight-bold text-primary">Indoor Air Quality</h6>
                          <div id="button-sec">
                              <button
                                  id="aqiFloor1"
                                  title="Show Floor Wise"
                                  class="chart-button"
                                  aria-label="Show Floor Wise"
                              >
                                  <i class="fas fa-fw fa-chart-bar"></i>
                              </button>
                              <button
                                  id="aqiFloor2"
                                  title="Show Current Building"
                                  class="chart-button"
                                  aria-label="Show Current Building"
                              >
                                  <i class="fas fa-fw fa-tachometer-alt"></i>
                              </button>
                          </div>
                      </div>
                      <div class="card-body">
                          <div class="chart-area aqiAvg mt-0">
                              <div id="chartdiv4" class="d-inline-block"></div>
                          </div>
                          <div class="chart-area aqiSeparate mb-0">
                              <div class="d-flex align-items-center justify-content-between">
                                <div class="aqiChart " id="completionRateChart"></div>
                                <div class="aqiChart" id="bounceRateChart"></div>
                              </div>
                          </div>
                          <div class="mb-3 aqiBtn">
                              <div class="d-flex">
                                  <div class="form-group mb-2 me-2" style="margin-right: 1rem;">
                                      <label for="startDateIAQ" class="me-2">Start Date:</label>
                                      <input type="date" id="startDateIAQ" class="form-control form-control-sm" style="width: 150px;">
                                  </div>
                                  <div class="form-group mb-2">
                                      <label for="endDateIAQ" class="me-2">End Date:</label>
                                      <input type="date" id="endDateIAQ" class="form-control form-control-sm" style="width: 150px;">
                                  </div>
                              </div>
                              <div class="d-flex mt-2">
                                  <button id="sav_daily_iaq" class="chart-button mx-1">Daily</button>
                                  <button id="sav_monthly_iaq" class="chart-button mx-1">Monthly</button>
                                  <button id="sav_yearly_iaq" class="chart-button mx-1">Yearly</button>
                              </div>
                          </div>
                      </div>
                  </div>
              </div>
              
              
                <!-- Energy Performance Index Chart -->
                <div class="col-xl-4 col-lg-4">
                  <div class="card shadow mb-4">
                    <div class="card-header py-3 d-flex flex-row align-items-center justify-content-between">
                      <h6 class="m-0 font-weight-bold text-primary">Energy Performance Index (EPI)</h6>
                      <div id="button-sec">
                        <button
                            id="epiFloor1"
                            title="Show Floor Wise"
                            class="chart-button"
                            aria-label="Show Floor Wise"
                        >
                            <i class="fas fa-fw fa-chart-bar"></i>
                        </button>
                        <button
                            id="epiFloor2"
                            title="Show Current Building"
                            class="chart-button"
                            aria-label="Show Current Building"
                        >
                            <i class="fas fa-fw fa-tachometer-alt"></i>
                        </button>
                      </div>
                    </div>
                    <div class="card-body">
                      <div class="chart-area epiDonut">
                        <div id="chartdiv5" class="d-inline-block"></div>
                      </div>
                      <div class="chart-area epiBar">
                          <div class="epiChart" id="epiBarChart"></div>
                      </div>
                      <div class="mb-3 epiBtn">
                        <div class="d-flex">
                          <div class="form-group mb-2 me-2" style="margin-right: 1rem;">
                            <label for="startDateEPI" class="me-2">Start Date:</label>
                            <input type="date" id="startDateEPI" class="form-control form-control-sm" style="width: 150px;">
                          </div>
                          <div class="form-group mb-2">
                            <label for="endDateEPI" class="me-2">End Date:</label>
                            <input type="date" id="endDateEPI" class="form-control form-control-sm" style="width: 150px;">
                          </div>
                        </div>
                        <div class="d-flex mt-2">
                          <button id="sav_daily_epi" class="chart-button mx-1" >Daily</button>
                          <button id="sav_monthly_epi" class="chart-button mx-1">Monthly</button>
                          <button id="sav_yearly_epi" class="chart-button mx-1">Yearly</button>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
              <div class="row">
                <!-- Occupancy Efficiency Chart -->
                <div class="col-xl-12 col-lg-12">
                  <div class="card shadow mb-4">
                    <div class="card-header py-3 d-flex flex-row align-items-center justify-content-between">
                      <h6 class="m-0 font-weight-bold text-primary">Occupancy Efficiency (%)</h6>
                      <div id="button-sec">
                        <button
                          id="floor_sav_btn"
                          title="Show Floor Wise"
                          class="chart-button"
                        >
                          <i class="fas fa-fw fa-chart-bar"></i>
                        </button>
                        <button
                          id="build_sav_btn"
                          title="Show Current Building"
                          class="chart-button"
                        >
                          <i class="fas fa-fw fa-tachometer-alt"></i>
                        </button>
                      </div>
                    </div>
                    <div class="card-body ">
                      <div class="chart-area sav_g_chart">
                        <div id="mychart1"></div>
                      </div>
                    </div>
                  </div>
                </div>
              
              
            </div>
            <!-- /.container-fluid -->
          </div>
          <!-- End of Main Content -->
  
          <!-- Footer -->
          <footer class="sticky-footer bg-white">
            <div class="container my-auto">
              <div class="copyright text-center my-auto">
                <span>Copyright &copy; Your Website 2022</span>
              </div>
            </div>
          </footer>
          <!-- End of Footer -->
        </div>
        <!-- End of Content Wrapper -->
      </div>
    
      <script src="public/vendor/amchart4/core.js"></script>
      <script src="public/vendor/amchart4/chart.js"></script>
      <script src="public/vendor/amchart4/themes/dark.js"></script>
      <script src="public/vendor/amchart4/themes/animated.js"></script>
      <script src="public/vendor/amchart4/lang/es_ES.js"></script>
      <script src="public/vendor/amchart3/amcharts.js"></script>
      <script src="public/vendor/amchart3/serial.js"></script>
      <script src="public/vendor/amchart3/themes/light.js"></script>
      <script src="public/vendor/amchart3/themes/dark.js"></script>
      <!-- <script src="https://cdn.jsdelivr.net/npm/apexcharts"></script>
      <script src="https://cdnjs.cloudflare.com/ajax/libs/apexcharts/3.38.0/apexcharts.min.js"></script> -->
      <script src="public/vendor/apexchart/apexcharts.js"></script>
      <script src="public/vendor/apexchart/apexChart.min1.js"></script>
      <script src="public/vendor/chartist/chartist.min.js"></script>
      <script src="public/vendor/jquery/jquery.slim.js"></script>
      <!-- <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM" crossorigin="anonymous"></script>  -->
       <script src="public/vendor/bootstrap/js/bootstrap.bundle.min.js"></script>
      <script  src="public/vendor/jquery/jquery.min.js"></script>
      <script src="public/vendor/jquery/jquery-ui.min.js"></script>
      <script src="public/vendor/popper/popper.min.js"></script>
      <!-- CO2 Emission Donut Chart -->
      <script src="public/js/jquery.js"></script>
      <!-- <script>
        window.addEventListener('load', function () {
            const preloader = document.getElementById('preloader');
            const content = document.querySelector('.content');

            // Add a fade-out class to the preloader
            preloader.classList.add('fade-out');

            // Wait for the fade-out animation to complete
            setTimeout(() => {
                preloader.style.display = 'none'; // Hide the preloader
                content.style.display = 'block';   // Show the main content
            }, 100000); // Adjust the timeout to match the CSS animation duration
        });
      </script> -->
       <!-- <script>
        // Define the scopes and their respective URLs
        const scopes = [
            { name: "Scope 1", url: "https://localhost/obix/histories/SqlServerDatabase/scope1/~historyQuery?start=2024-10-01T00:00:00.000+05:30&end=2024-10-31T00:00:00.000+05" },
            { name: "Scope 2", url: "https://localhost/obix/histories/SqlServerDatabase/scope2/~historyQuery?start=2024-10-01T00:00:00.000+05:30&end=2024-10-31T00:00:00.000+05" },
            { name: "Scope 3", url: "https://localhost/obix/histories/SqlServerDatabase/scope3/~historyQuery?start=2024-10-01T00:00:00.000+05:30&end=2024-10-31T00:00:00.000+05" },
        ];

        // Function to fetch data and parse XML
       async function fetchScopeData(scope) {
    try {
        const response = await fetch(scope.url);
        const text = await response.text();
        console.log("Raw XML for", scope.name, ":", text);

        const parser = new DOMParser();
        const xml = parser.parseFromString(text, "application/xml");

        // Extract <real> elements and their "val" attributes
        const values = Array.from(xml.querySelectorAll("real"))
            .map(real => {
                const val = real.getAttribute("val");
                console.log(`Value for ${scope.name}:`, val);
                return parseFloat(val);
            });

        // Handle any invalid or missing values
        if (values.some(value => isNaN(value))) {
            console.warn(`Non-numeric values detected for ${scope.name}`);
        }

        const total = values.reduce((sum, value) => sum + (isNaN(value) ? 0 : value), 0);
        console.log(`Total for ${scope.name}:`, total);

        return total;
    } catch (error) {
        console.error(`Error fetching data for ${scope.name}:`, error);
        return 0; // Return 0 if there's an error
    }
}


        // Function to render the chart
        async function renderChart() {
            const labels = [];
            const data = [];

            for (const scope of scopes) {
                labels.push(scope.name);
                const total = await fetchScopeData(scope);
                data.push(total);
            }

            // Render the bar chart using ApexCharts
            const options = {
                chart: {
                    type: 'bar',
                    height: 350
                },
                series: [{
                    name: 'Monthly Total',
                    data: data
                }],
                xaxis: {
                    categories: labels,
                    title: {
                        text: 'Scopes'
                    }
                },
                yaxis: {
                    title: {
                        text: 'Total Value'
                    }
                },
                title: {
                    text: 'Monthly Scope Data',
                    align: 'center'
                },
                colors: ['#008FFB', '#00E396', '#FEB019'],
            };

            const chart = new ApexCharts(document.querySelector("#mychart1"), options);
            chart.render();
        }

        // Run the renderChart function on page load
        renderChart();
    </script> -->
      
    
</body>
</html>